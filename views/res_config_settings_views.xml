<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="res_config_settings_view_form_smart_notifier" model="ir.ui.view">
        <field name="name">res.config.settings.view.form.inherit.smart.notifier</field>
        <field name="model">res.config.settings</field>
        <field name="inherit_id" ref="base.res_config_settings_view_form"/>
        <field name="arch" type="xml">
            <xpath expr="//form" position="inside">
                <app data-string="Smart Sales Notifier" string="Smart Sales Notifier" name="smart_sales_notifier" groups="base.group_system">
                    <block title="ðŸ”— n8n Integration" name="n8n_settings">
                        <setting string="Webhook Configuration" help="Connect to your n8n automation workflow">
                            <div class="content-group">
                                <div class="row mt16">
                                    <label for="n8n_webhook_url" class="col-lg-3 o_light_label"/>
                                    <field name="n8n_webhook_url" class="col-lg-9" placeholder="https://n8n.example.com/webhook/sales-notifier"/>
                                </div>
                                <div class="mt8 text-muted">
                                    <i class="fa fa-info-circle"/> Enter your n8n webhook URL. The workflow will receive order data and process it with AI.
                                </div>
                            </div>
                        </setting>
                        <setting string="ðŸ“± Notification Channel" help="Notifications delivered via Telegram">
                            <div class="content-group">
                                <div class="alert alert-success mb-0" role="alert">
                                    <i class="fa fa-telegram fa-lg"/> <strong>Telegram</strong> - Notifications are configured in your n8n workflow.
                                    <br/>
                                    <small class="text-muted">Make sure your n8n workflow is active and Telegram bot is configured!</small>
                                </div>
                            </div>
                        </setting>
                    </block>
                    <block title="âš™ï¸ AI Analysis Rules" name="notification_rules">
                        <setting string="High-Value Order Threshold" help="Orders exceeding this amount are flagged as high priority">
                            <div class="content-group">
                                <div class="row mt16">
                                    <label for="high_value_threshold" class="col-lg-4 o_light_label"/>
                                    <field name="high_value_threshold" class="col-lg-3"/>
                                    <span class="col-lg-2 mt-1">EUR</span>
                                </div>
                                <div class="mt8 text-muted">
                                    <i class="fa fa-info-circle"/> Orders above this threshold will be automatically flagged for priority review.
                                </div>
                            </div>
                        </setting>
                        <setting string="Automatic AI Notifications" help="Trigger AI analysis when orders are confirmed">
                            <div class="content-group">
                                <div class="row">
                                    <field name="enable_auto_notify" class="col-lg-1"/>
                                    <span class="col-lg-8">Send to AI automatically when an order is confirmed</span>
                                </div>
                                <div class="mt8 text-muted">
                                    <i class="fa fa-info-circle"/> When enabled, all confirmed orders will be sent to n8n for AI analysis.
                                </div>
                            </div>
                        </setting>
                    </block>
                    <block title="ðŸ¤– AI Configuration" name="ai_info">
                        <setting string="AI Model Information" help="Current AI processing configuration">
                            <div class="content-group">
                                <div class="row">
                                    <div class="col-lg-12">
                                        <table class="table table-sm table-borderless">
                                            <tr>
                                                <td><strong><i class="fa fa-microchip"/> AI Provider:</strong></td>
                                                <td>Groq Cloud</td>
                                            </tr>
                                            <tr>
                                                <td><strong><i class="fa fa-cog"/> Model:</strong></td>
                                                <td>LLaMA 3.1 8B Instant</td>
                                            </tr>
                                            <tr>
                                                <td><strong><i class="fa fa-bolt"/> Processing:</strong></td>
                                                <td>Real-time via n8n webhook</td>
                                            </tr>
                                            <tr>
                                                <td><strong><i class="fa fa-bell"/> Notifications:</strong></td>
                                                <td>Telegram Bot</td>
                                            </tr>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </setting>
                    </block>
                </app>
            </xpath>
        </field>
    </record>
</odoo>
